<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>M3 - Super charge visuals</title>
    <style>

    </style>
</head>
<body>
<div>
    <button onclick="d()">Click</button>
    <input id="range" type="range" min="10" max="600" value="600" oninput="d()">
</div>
<canvas id="canvas0" width=300 height=200></canvas>
<canvas id="canvas1" width=300 height=200></canvas>
<canvas id="canvas2" width=300 height=200></canvas>
<canvas id="canvas3" width=300 height=200></canvas>
<canvas id="canvas4" width=300 height=200></canvas>
<canvas id="canvas5" width=300 height=200></canvas>
<canvas id="canvas6" width=300 height=200></canvas>
<canvas id="canvas7" width=300 height=200></canvas>
<canvas id="canvas8" width=300 height=200></canvas>
<canvas id="canvas9" width=300 height=200></canvas>
<canvas id="canvas10" width=300 height=200></canvas>
<canvas id="canvas11" width=300 height=200></canvas>
<script src="externals/d3.min.js"></script>
<script src="externals/lodash.min.js"></script>
<script src="bin/debug/m3.js"></script>

<script>
    var count = 12;
    var cs = d3.range(count).map(function(d,i){
        return m3.graphics.surface.create(document.getElementById('canvas'+i), false);
    });

    function d(){
        for(var i=0; i<cs.length; i++){
            drawABarChart(cs[i]);
        }
    }

    function drawABarChart(surface) {
        var barChart = new m3.graphics.component.Bars(surface);
        var v = d3.range(40).map(function (d, i) {
            return d3.random.bates(i)()
        });
        surface.begin();
        barChart.update({
            data: {values: v},
            boundingBox: {
                x: 0,
                y: 0,
                width: surface.htmlCanvas.width,
                height: surface.htmlCanvas.height
            },
            canvas: surface
        });
        surface.update();
    }
</script>
</body>
</html>